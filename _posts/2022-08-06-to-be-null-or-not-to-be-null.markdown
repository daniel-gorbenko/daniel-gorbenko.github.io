---
layout: post
title: "Быть null или не быть null - вот в чем вопрос"
meta_title: "Быть null или не быть null - вот в чем вопрос"
meta_description: "Зачастую, какая-то неразбериха, какой-то логический тупик с `null` появляется когда человек прочитал в умных книгах, *что если у реального объекта значение всегда существует, то поле принимать значения `null` не может*. Логично?, - логично. Но, бывает, что оно-то существует, но мы не знаем значение (численность населения Мадагаскара на текущую секунду)."
tags:
- базы данных
location: "Украина, Змиев"
---

Зачастую, какая-то неразбериха, какой-то логический тупик с `null` появляется когда человек прочитал в умных книгах, *что если у реального объекта значение всегда существует, то поле принимать значения `null` не может*. Логично?, - логично. Но, бывает, что оно-то существует, но мы не знаем значение (численность населения Мадагаскара на текущую секунду).

И еще бывает, что мы пытаемся с помощью одного и того же поля в базе данных отвечать на вопрос "существует ли" и "какой".

Поле может принимать `null` только в случае, если нам неизвестно значение этого поля (не знаем состоит ли в браке человек или нет). Если же мы пытаемся с помощь `null` указать, что значения не существует (например у человека нет домашних животных), то мы допустили ошибку в проектировании. Для таких сценариев нужно делать отдельное поле для ответа на вопрос "есть ли домашние животные" и отдельную таблицу со связями для указания принадлежащих животных, если нужно ответить на вопрос "какие домашние животные есть у человека".

Многие читатели подумают, что нет необходимости создавать поле, которое будет отвечать на вопрос "есть ли" ибо можно пробежаться по связанной таблицу, но не торопитесь. Дело в том, что в случае наличия этого отдельного поля, каждый вопрос поддерживает вариант "неизвестно":

* есть ли домашние животные у человека: неизвестно; да; нет.
* какие домашние животные у человека: неизвестно(на вопрос "есть ли" - ответ да, но связей нет); перечень животных.

Да, однозначно, это усложняет весь процесс разработки, придется дописывать условия во все запросы, которые затрагивают это поле, исключать где-то из выборки обьекты, и много другое, но это реальная жизнь.